(this.webpackJsonpreactive=this.webpackJsonpreactive||[]).push([[0],{33:function(e,t,n){e.exports=n(40)},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(31),u=n.n(a),i=(n(38),n(6)),o=n(27),b=(n(39),n(50)),s=n(46),f=n(41),l=n(42),O=n(43),j=n(44),m=n(45),p=n(10);function v(e){var t=e.id,n=Object(r.useRef)(null),a=Object(r.useContext)(D),u=Object(i.a)(a,1)[0],o=u.click$,v=u.random$,E=u.score$,d=Object(r.useState)(!1),w=Object(i.a)(d,2),y=w[0],k=w[1];return Object(r.useEffect)((function(){if(o&&v){var e=[],n=v.pipe(Object(f.a)((function(e){return e===t})),Object(l.a)(!0)),r=Object(b.a)(v.pipe(Object(f.a)((function(e){return e!==t})),Object(l.a)(!1)),o.pipe(Object(f.a)((function(e){return e===t})),Object(l.a)(!1))),c=Object(b.a)(n,r).pipe(Object(O.a)()),a=Object(j.a)()(v).pipe(Object(m.a)(Object(f.a)((function(e){return!1===e}))(c)),Object(p.a)((function(e){return e.timestamp})),Object(j.a)(),Object(p.a)((function(e){return e.timestamp-e.value})),Object(f.a)((function(e){return e>5})),Object(p.a)((function(e){return Math.max(h-e,0)})));return e.push(c.subscribe((function(e){return k(e)}))),e.push(a.subscribe(E)),function(){return e.forEach((function(e){return e.unsubscribe()}))}}}),[o,v,E,t]),Object(r.useEffect)((function(){if(o){var e=Object(l.a)(t)(Object(s.a)(n.current,"click")).subscribe(o);return function(){e.unsubscribe()}}}),[n,o,t]),c.a.createElement("button",{ref:n,className:"square"},y&&"X")}var E=n(32),d=function(){return Math.floor(9*Math.random())},h=500,w=10;function y(e){var t=Object(r.useContext)(D),n=Object(i.a)(t,2),a=n[0].tick$,u=n[1];return Object(r.useEffect)((function(){u({key:"click$",value:new E.a})}),[u]),Object(r.useEffect)((function(){u({key:"tick$",value:new E.a})}),[u]),Object(r.useEffect)((function(){if(a){var e=new E.a,t=Object(p.a)(d)(a).subscribe(e);return u({key:"random$",value:e}),function(){return t.unsubscribe()}}}),[a,u]),c.a.createElement("div",null,c.a.createElement("div",{className:"board-row"},c.a.createElement(v,{id:0}),c.a.createElement(v,{id:1}),c.a.createElement(v,{id:2})),c.a.createElement("div",{className:"board-row"},c.a.createElement(v,{id:3}),c.a.createElement(v,{id:4}),c.a.createElement(v,{id:5})),c.a.createElement("div",{className:"board-row"},c.a.createElement(v,{id:6}),c.a.createElement(v,{id:7}),c.a.createElement(v,{id:8})))}var k=n(47),g=n(52),$=n(48),P=n(49),x=n(51);function S(e){var t=Object(r.useRef)(null),n=Object(r.useState)(0),a=Object(i.a)(n,2),u=a[0],o=a[1],b=Object(r.useState)(0),f=Object(i.a)(b,2),l=f[0],j=f[1],v=Object(r.useContext)(D),E=Object(i.a)(v,2),d=E[0],y=d.score$,S=d.tick$,C=E[1];return Object(r.useEffect)((function(){C({key:"score$",value:new k.a(0)})}),[C]),Object(r.useEffect)((function(){if(S&&y){var e=[],n=Object(s.a)(t.current,"click"),r=Object($.a)((function(e,t){return e+t}),0)(y),c=r.pipe(Object($.a)((function(e,t){return Math.max(e,t)}),0),Object(O.a)()),a=r.pipe(Object(m.a)(n),Object(p.a)((function(e){return-e})));return e.push(a.subscribe(y)),e.push(n.pipe(Object(P.a)((function(){return Object(x.a)(w)(Object(g.a)(h))}))).subscribe(S)),e.push(r.subscribe((function(e){return o(e)}))),e.push(c.subscribe((function(e){return j(e)}))),function(){return e.forEach((function(e){return e.unsubscribe()}))}}}),[t,S,y,C]),c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{ref:t},"Start new game"),c.a.createElement("h3",null,"Score: ",u),c.a.createElement("h3",null,"Best: ",l))}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=Object(r.createContext)();function M(e,t){return console.log("reducer",e,t),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(o.a)({},t.key,t.value))}var N=function(){var e=Object(r.useReducer)(M,{}),t=Object(i.a)(e,2),n=t[0],a=t[1];return c.a.createElement(D.Provider,{value:[n,a]},c.a.createElement(S,null),c.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[33,1,2]]]);
//# sourceMappingURL=main.78644372.chunk.js.map